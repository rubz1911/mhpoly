<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MH Poly — Text Viewer</title>
  <style>
    :root{--pad:16px;--radius:16px;--shadow:0 8px 20px rgba(0,0,0,0.08);--muted:#666;}
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,"Helvetica Neue",Arial;}
    body{margin:0;background:#f7f7fb;color:#222;line-height:1.55;padding:24px;max-width:1000px;margin-inline:auto;}
    header{margin-bottom:20px;}
    h1{margin:0 0 6px 0;font-size:1.6rem;}
    .note{color:var(--muted);font-size:0.95rem;margin-top:4px}
    .doc{background:#fff;border-radius:var(--radius);box-shadow:var(--shadow);padding:var(--pad);margin:18px 0;}
    .doc h2{margin:0 0 8px 0;font-size:1.15rem}
    .doc .meta{color:var(--muted);font-size:0.9rem;margin-bottom:8px}
    .doc pre{white-space:pre-wrap;margin:0;overflow-wrap:anywhere}
    .error{background:#fff3f3;border:1px solid #f2c2c2;color:#8b0000;border-radius:12px;padding:12px}
    .btn{border:1px solid #ddd;background:#fafafa;border-radius:12px;padding:6px 10px;text-decoration:none;color:#222}
    .btn:hover{background:#f0f0f5}
    code{background:#f0f0f5;padding:2px 6px;border-radius:6px}
  </style>
</head>
<body>
  <header>
    <h1>MH Poly — Text Viewer</h1>
    <div class="note">
      Repo assumed: <code>rubz1911/mhpoly</code> • Base URL: <code>https://rubz1911.github.io/mhpoly</code><br/>
      File must be saved as <strong>UTF‑8</strong> to avoid � characters. (In Notepad: Save As → Encoding: UTF‑8)
    </div>
  </header>

  <article class="doc" id="doc">
    <h2>MH5005.txt</h2>
    <div class="meta">
      <a id="download" class="btn" href="#">Download</a>
      <span class="note">Rendering inline from <code>/mhpoly/library/MH5005.txt</code></span>
    </div>
    <pre id="content">Loading…</pre>
  </article>

  <script>
    const BASE_PATH = "/mhpoly";               // repo base path
    const FILENAME = "MH5005.txt";             // single file to display
    const FILE_URL = `${location.origin}${BASE_PATH}/library/${encodeURIComponent(FILENAME)}`;

    document.getElementById("download").href = FILE_URL;

    async function load(){
      const pre = document.getElementById("content");
      try{
        const res = await fetch(FILE_URL, {cache:"no-store"});
        if(!res.ok){
          pre.outerHTML = errBox(`Could not load <code>${FILENAME}</code>.<br>URL: <code>${FILE_URL}</code><br>Status: ${res.status} ${res.statusText}`);
          return;
        }
        const text = await res.text();
        pre.textContent = text;
      }catch(e){
        pre.outerHTML = errBox(`Network error fetching <code>${FILENAME}</code> from <code>${FILE_URL}</code>.`);
        console.error(e);
      }
    }

    function errBox(msg){
      return `<div class="error">${msg}</div>`;
    }
    load();
  </script>
</body>
</html>
